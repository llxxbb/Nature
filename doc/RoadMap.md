路线图

### 核心功能

#### meta

- 私有状态：用于减少领域对象的数量。如订单和订单状态在业务上可以用一个领域对象来管理。其形式为 [meta_name]_S，可以定义初始状态。与私有状态想对应的是独立状态meta， 如 [负责人] meta , [负责人]是可以更换的所以[负责人]是一个状态数据。
- meta 模板: meta 类型为 T(emplate)，用于提供复用的 meta 信息。 模板类型的 Meta 不能生成Instance，模板可将 states、fields、 config 的内容作为模板使用。其它 meta 可使用 `from` 属性来关联模板来使用模板中的内容，也可以关联非模板meta，这是一种规范而不是强制措施，模板使用者可覆盖或追加内容。
- 伴生 meta：用于表示具有双向关系的实例，如用户属于某个组，组内有某个用户。伴生对象用于方便数据检索。伴生对象由 Nature 自动维护，不需要额外建立 relation。 其形式为 [meta_name]_R, 其中R为 Reverse 的首字母。条件：para 有且只有两个参数。
- 写入之前支持自定义的验证逻辑，适用于从外部输入数据到 Nature。
- 支持属性验证，更新时验证是否有`Relation`在使用，如有GUI则发出警告（待确认）
- 密文存储：简单方案，不区分用户，对称加密，公私钥方案见云版
- 可定义 instance 的生命周期，便于数据迁移自动化。

#### ralation

- relation 模板：模板只提供 settings 中除 is_template 和 from 之外的信息 。请设置 from 属性关联到一个已经存在的 `relation` 上。
- 动态路由，开关：出于安全上的考虑，在处理过程中，动态路由不能回归到静态路由。

#### 选择器

可方便支持外部扩展。

#### 内置convert

随机生成器：可指定生成的位数，形式可选 数字、字母+数字、字母

#### 执行器

- 可以通过 context 来 申请ID
- executor setting 中可复制，可增加，可移除context 中的内容

#### 数据库

对 elasticSearch， mongodb 进行支持。

#### ID 生成算法

目前是基于 hash 算法的，下一步考虑使用分布式ID算法。基于：snowflake

### 重试

执行重试任务时，检测是否忙碌，如果忙碌，返回忙碌信息。

### 示例

为了说明 Nature 可以很好的避免编码，我们找了个最常用的业务情景，来挖掘一下 Nature 非编码方式实现复杂业务逻辑的潜力，这个场景就是审核。

我们将模拟下面的审核场景：

- 业务类型：请假、报销、借款
- 审核方式：多级审核、多人审核、代理审核，指定领导审核。

### GUI

- 支持 meta 和 relation 的创建
- 更新配置时能够更新多个实例上的缓存
- 对 meta template 进行标记和支持，如可以对 meta template 进行过滤显式。
- meta 复制功能。
- meta 变更时提示是否生成新版本的 meta
- 伴生 meta 不会以独立的 Meta 在GUI中显示，但其所依附的主对象会进行标记
- 私有状态 meta 不独立展示，但其所依附的主对象会进行标记，创建关系时需要选择从主数据创建还是从私有状态数据创建。
- Relation 复制功能。
